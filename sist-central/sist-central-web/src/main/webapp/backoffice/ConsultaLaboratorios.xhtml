<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:pr="http://primefaces.org/ui"> 

<head>

    <meta charset="utf-8" />
    <title>Vacunas.uy - Consulta Laboratorios</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
<style>
        .bodytype {
            align-items: center;
            padding-top: 30px;
            padding-bottom: 30px;
        }

        tr:nth-child(even) {
            background-color: white;
        }
		 tr:nth-child(odd) {
            background-color: #c4b489;
        }
		
        .question-listed-metadata {
            font-size: 12px !important;
        }

        .question-listed-stats button {
            font-size: 13px !important;
        }

        .answer-description p {
            font-size: 12px;
            font-weight: normal !important;
        }

        #header {
            border-top: 3px solid Dodgerblue;
            border-bottom: 1px solid #e4e6e8;
        }

        .left-menu {
            border-right: 1px solid #dee2e6;
        }

        .content {
            max-width: 600px;
            margin: auto;
        }

        .btn-group {
            width: 60%;
            margin: 0 auto;
        }

        .btn-group button {
            border: 1px solid white;
            padding: 10px 45px;
            cursor: pointer;
            float: center;
            text-align: center;
        }

        p {
            line-height: 10px;
            margin-bottom: 10px;
        }

</style>

</head> 

<ui:include src="/Navbar.xhtml" />

<h:body class= "text-center" style="background-color: white">

	    
    <div class="bodytype">
        <div class="content">
            <img class="mb-4" src="../LogoLaboratorio.png" alt="" width="90" height="90"/>
            <h1 class="h2 mb-3 font-weight-normal">Laboratorios disponibles</h1>
            <h:form class="form-inline my-4 my-lg-0 mr-auto">
                <h:inputText 
                	value="#{LaboratorioBean.busqueda}"
                	class="form-control col-10 mr-sm-2" 
                	type="search" 
                	p:placeholder="Buscar laboratorio"
                    aria-label="Search" 
                    name="busquedaLaboratorios"
                    />
                <h:commandButton value="Buscar" type="submit" class="btn btn-info my-2 my-sm-0" style="background-color:#222938; border:#222938" action="#{LaboratorioBean.setRealizarBusqueda(true)}"/>
            </h:form>
            <p></p>
            <div class="dropdown">
		            <a id="dLabel" role="button" data-toggle="dropdown" class="btn btn-secondary" data-target="#" href="/page.html">
		                Ordenar Por: <span class="caret"></span>
		            </a>
		    		<ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dropdownMenu">
		              <li><a href="">Alfabeticamente</a></li>
		              <p> </p>
		              <li><a href="">Fecha</a></li>
		            </ul>
		        </div>		     
		       	
		       	<div id="busq" style="margin-top: 20px; display:#{LaboratorioBean.hayBusqueda}">
					<div class="alert alert-secondary">
						Resultado de la busqueda "#{LaboratorioBean.busqueda}"
					</div>	
				</div>
		       	 
				<div id="eliminado" style="margin-top: 20px; display:#{LaboratorioBean.laboratorioEliminado}">
					<div class="alert alert-success">
				  		El laboratorio fue eleiminado.
					</div>	
				</div>
						
				<div id="eliminado" style="margin-top: 20px; display:#{LaboratorioBean.laboratorioNoEliminado}">
					<div class="alert alert-danger">
				  		No se pudo eliminar el laboratorio.
					</div>	
				</div>
			
				<div id="errores" style="margin-top: 20px; display:#{LaboratorioBean.hayLaboratorios()}">
					<div class="alert alert-danger">
				  		No hay nignun laboratorio disponible.
					</div>	
				</div>	
			<ul class="list-group" style="margin-top: 30px">
				<ui:repeat value="#{LaboratorioBean.getLabs()}" var="lab">

					  <li class="list-group-item" style="background-color:#{LaboratorioBean.getColor()}">
					  <h2 style="color:#{LaboratorioBean.colorSecundario}">#{lab.nombre}</h2>
					  <h:form rendered="#{!lab.getVacunas().isEmpty()}">
						  <p style="color:#{LaboratorioBean.colorSecundario}"> Vacunas creadas:</p>
							  <ui:repeat value="#{lab.getVacunas()}" var="vac">
							  		<p style="color:#{LaboratorioBean.colorSecundario}"> #{vac.nombre}</p>
							  </ui:repeat>
					  </h:form>
				      <h:form rendered="#{lab.getVacunas().isEmpty()}">
						  <p style="color:#{LaboratorioBean.colorSecundario}"> No han creado ninguna vacuna.</p>
					  </h:form>
					  <h:form rendered="#{lab.getVacunas().isEmpty()}">
					  	<h:commandButton value="Eliminar" type="submit" class="btn btn-danger" style="padding: 2px 6px" action="#{LaboratorioBean.eliminarLaboratorio(lab.nombre)}" /> 
					  </h:form>
					  <p></p>
					  </li> 
					  
   			 	</ui:repeat>
				
   			</ul>

        </div>
    </div>

  </h:body>
 
</html>